<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Tickets bestellen</title>
	<style>
		div { padding: 5px; }
		label, input { width: 160px; display: inline-block; }
	</style>
	<script type="text/javascript">
		function init() {
			document.getElementById("btn-submit").addEventListener("click", validateForm);
		}

		function isValidEmail(emailAddr) {
			if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailAddr)) {
    			return (true)
  			}
    		return (false)
		}
		
		function validateForm(e) {
			e.preventDefault(); 
			var form = document.forms[0]; 
			
			if (!isValidEmail(form.elements["e-mail"].value)) {
				alert("Bitte geben Sie eine gültige E-Mail Adresse ein.");
				return;
			}
			
			if (form.elements["ticket-amount"].options.selectedIndex <= 0) {
				alert("Bitte wählen Sie aus, wieviele Tickets sie bestellen möchten.");
				return;
			} else 			{
				// alert("Sie haben " + form.elements["ticket-amount"].options[form.elements["ticket-amount"].selectedIndex].value + " Tickets bestellt.");
				form.submit()
			}
		}
	</script>
</head>
<body>
	<h1>Tickets bestellen</h1>
	<form action="https://formlog.offline.ch/log" method="post" name="order-form">
		<div>
			<label for="e-mail">Deine E-Mail Adresse: </label> 
			<input type="email" name="e-mail" id="e-mail">
		</div>
		<div>
			<label for="ticket-amount">Anzahl Tickets: </label>
			<select name="ticket-amount" id="ticket-amount">
				<option value="0">Bitte wählen</option>
				<option value="1">1</option>
				<option value="2">2</option>
			</select>
		</div>
		<div>
			<button id="btn-submit" type="submit">Bestellen</button>
		</div>
	</form>	
	<script>
		window.addEventListener("load", init);
	</script>
</body>
</html>
